(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{173:function(a,e,s){"use strict";s.r(e);var t=s(0),r=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"详解package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#详解package-json","aria-hidden":"true"}},[a._v("#")]),a._v(" 详解package.json")]),a._v(" "),s("h2",{attrs:{id:"essentials"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#essentials","aria-hidden":"true"}},[a._v("#")]),a._v(" essentials")]),a._v(" "),s("p",[a._v("package中最重要的是"),s("strong",[a._v("name")]),a._v("和"),s("strong",[a._v("version")])]),a._v(" "),s("h3",{attrs:{id:"name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#name","aria-hidden":"true"}},[a._v("#")]),a._v(" name")]),a._v(" "),s("p",[a._v("package的名称。通常当做urls，命令行的参数和node_modules的包名")]),a._v(" "),s("p",[a._v("e.g.")]),a._v(" "),s("p",[a._v("​\tyarn add [name]")]),a._v(" "),s("p",[a._v("​\tnode_modules/[name]")]),a._v(" "),s("p",[a._v("​\thttps://registry.npmjs.org/[name]/-/[name]-[version].tgz")]),a._v(" "),s("h4",{attrs:{id:"rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rules","aria-hidden":"true"}},[a._v("#")]),a._v(" Rules")]),a._v(" "),s("ul",[s("li",[a._v("必须小于或等于214个字节（包括@scope）")]),a._v(" "),s("li",[a._v("禁止以 . 开头 或者_ 下划线开头")]),a._v(" "),s("li",[a._v("禁止名称有大写字母")]),a._v(" "),s("li",[a._v("必须用URL-safe的字符串")])]),a._v(" "),s("h3",{attrs:{id:"version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#version","aria-hidden":"true"}},[a._v("#")]),a._v(" version")]),a._v(" "),s("p",[a._v("当前包的版本号")]),a._v(" "),s("h2",{attrs:{id:"info"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#info","aria-hidden":"true"}},[a._v("#")]),a._v(" Info")]),a._v(" "),s("h3",{attrs:{id:"description"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#description","aria-hidden":"true"}},[a._v("#")]),a._v(" description")]),a._v(" "),s("p",[a._v("描述只是用来让使用者了解包的使用目的。")]),a._v(" "),s("h3",{attrs:{id:"keywords"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#keywords","aria-hidden":"true"}},[a._v("#")]),a._v(" keywords")]),a._v(" "),s("p",[a._v("用于包管理员搜索包的关键字")]),a._v(" "),s("h3",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[a._v("#")]),a._v(" license")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "license": "MIT",\n    "license": "(MIT or GPL-3.0)",\n    "license": "SEE LICENSE IN LICENSE_FILENAME.txt",\n    "license": "UNLICENSED"\n}\n')])])]),s("h2",{attrs:{id:"links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#links","aria-hidden":"true"}},[a._v("#")]),a._v(" Links")]),a._v(" "),s("h3",{attrs:{id:"homepage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#homepage","aria-hidden":"true"}},[a._v("#")]),a._v(" homepage")]),a._v(" "),s("p",[a._v("用来填写包的登录页或者文档URL")]),a._v(" "),s("h3",{attrs:{id:"bugs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bugs","aria-hidden":"true"}},[a._v("#")]),a._v(" bugs")]),a._v(" "),s("p",[a._v("跟踪项目issue的URL，通常也可以填email地址，提供给使用者如何提交issues的地址")]),a._v(" "),s("h3",{attrs:{id:"repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#repository","aria-hidden":"true"}},[a._v("#")]),a._v(" repository")]),a._v(" "),s("p",[a._v("实际包的代码路径")]),a._v(" "),s("h2",{attrs:{id:"maintainers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maintainers","aria-hidden":"true"}},[a._v("#")]),a._v(" Maintainers")]),a._v(" "),s("h3",{attrs:{id:"author"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#author","aria-hidden":"true"}},[a._v("#")]),a._v(" author")]),a._v(" "),s("p",[a._v("作者信息，作者只能是一个人")]),a._v(" "),s("h3",{attrs:{id:"contributors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contributors","aria-hidden":"true"}},[a._v("#")]),a._v(" contributors")]),a._v(" "),s("p",[a._v("贡献者信息，是一个数组")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "contributors": [\n        {},\n        {}\n    ]\n}\n')])])]),s("h2",{attrs:{id:"files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#files","aria-hidden":"true"}},[a._v("#")]),a._v(" Files")]),a._v(" "),s("h3",{attrs:{id:"files-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#files-2","aria-hidden":"true"}},[a._v("#")]),a._v(" files")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "files": [\n        "filename.js",\n        "directory/",\n        "glob/*.{jsm,json}"\n    ]\n}\n')])])]),s("p",[a._v("填写的是项目中包含的文件。可以是单一的文件，文件夹机或者通配符")]),a._v(" "),s("h3",{attrs:{id:"main"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#main","aria-hidden":"true"}},[a._v("#")]),a._v(" main")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "main": "filename.js"\n}\n')])])]),s("p",[a._v("项目的入口函数")]),a._v(" "),s("h3",{attrs:{id:"bin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bin","aria-hidden":"true"}},[a._v("#")]),a._v(" bin")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "bin": "bin.js",\n    "bin": {\n        "command-name": "bin/command-name.js",\n        "other-command": "bin/other-command.js"\n    }\n}\n')])])]),s("h3",{attrs:{id:"man"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#man","aria-hidden":"true"}},[a._v("#")]),a._v(" man")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "man": "./man/doc.1",\n    "man": ["./man/doc.1", "./man/doc.2"]\n}\n')])])]),s("h3",{attrs:{id:"directories"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#directories","aria-hidden":"true"}},[a._v("#")]),a._v(" directories")]),a._v(" "),s("h2",{attrs:{id:"tasks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tasks","aria-hidden":"true"}},[a._v("#")]),a._v(" Tasks")]),a._v(" "),s("h3",{attrs:{id:"scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scripts","aria-hidden":"true"}},[a._v("#")]),a._v(" scripts")]),a._v(" "),s("p",[a._v("自动化执行包命令的方法")]),a._v(" "),s("h3",{attrs:{id:"config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config","aria-hidden":"true"}},[a._v("#")]),a._v(" config")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "config": {\n        "port": "8080"\n    }\n}\n')])])]),s("p",[a._v("配置options或者parameters用于scripts")]),a._v(" "),s("h2",{attrs:{id:"dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dependencies","aria-hidden":"true"}},[a._v("#")]),a._v(" Dependencies")]),a._v(" "),s("h3",{attrs:{id:"dependencies-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dependencies-2","aria-hidden":"true"}},[a._v("#")]),a._v(" dependencies")]),a._v(" "),s("p",[a._v("开发或者生产环境的包")]),a._v(" "),s("h3",{attrs:{id:"devdependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies","aria-hidden":"true"}},[a._v("#")]),a._v(" devDependencies")]),a._v(" "),s("p",[a._v("只能用在开发环境")]),a._v(" "),s("h3",{attrs:{id:"peerdependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#peerdependencies","aria-hidden":"true"}},[a._v("#")]),a._v(" peerDependencies")]),a._v(" "),s("p",[a._v("用于声明你的包和别的包的版本之间的兼容性情况")]),a._v(" "),s("h3",{attrs:{id:"optionaldependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#optionaldependencies","aria-hidden":"true"}},[a._v("#")]),a._v(" optionalDependencies")]),a._v(" "),s("p",[a._v("选择性的包，并不是必要的，如果没有找到，一样会继续执行")]),a._v(" "),s("h3",{attrs:{id:"bundledependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bundledependencies","aria-hidden":"true"}},[a._v("#")]),a._v(" bundleDependencies")]),a._v(" "),s("p",[a._v("依赖打包是当发布你的包时，会一并将该对象中的包打包在一起")]),a._v(" "),s("h2",{attrs:{id:"system"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#system","aria-hidden":"true"}},[a._v("#")]),a._v(" System")]),a._v(" "),s("h3",{attrs:{id:"engines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#engines","aria-hidden":"true"}},[a._v("#")]),a._v(" engines")]),a._v(" "),s("p",[a._v("用于检查process.versions的版本号是否符合包中规定的版本号")]),a._v(" "),s("h3",{attrs:{id:"os"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#os","aria-hidden":"true"}},[a._v("#")]),a._v(" os")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "os": ["darwin", "linux"],\n    "os": ["!win32"]\n}\n')])])]),s("p",[a._v("标注操作系统，用来检查process.platform的系统和包规定的是否一致")]),a._v(" "),s("h3",{attrs:{id:"cpu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cpu","aria-hidden":"true"}},[a._v("#")]),a._v(" cpu")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "cpu": ["x64", "ia32"],\n    "cpu": ["!arm", "!mips"]\n}\n')])])]),s("p",[a._v("用来检查process.arch 系统架构和包规定的是否一致")]),a._v(" "),s("h2",{attrs:{id:"publishing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publishing","aria-hidden":"true"}},[a._v("#")]),a._v(" Publishing")]),a._v(" "),s("h3",{attrs:{id:"private"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#private","aria-hidden":"true"}},[a._v("#")]),a._v(" private")]),a._v(" "),s("p",[a._v("如果不想让包可见，设置为true")]),a._v(" "),s("h3",{attrs:{id:"publishconfig"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publishconfig","aria-hidden":"true"}},[a._v("#")]),a._v(" publishConfig")]),a._v(" "),s("p",[a._v("用于发布包时使用，例如，标注tag")]),a._v(" "),s("h2",{attrs:{id:"yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn","aria-hidden":"true"}},[a._v("#")]),a._v(" Yarn")]),a._v(" "),s("h3",{attrs:{id:"flat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flat","aria-hidden":"true"}},[a._v("#")]),a._v(" flat")]),a._v(" "),s("p",[a._v("设置为true，其他依赖于你的包的包都必须同样设置为true，或者用yarn install —flat来安装依赖")]),a._v(" "),s("h3",{attrs:{id:"resolutions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolutions","aria-hidden":"true"}},[a._v("#")]),a._v(" resolutions")]),a._v(" "),s("h2",{attrs:{id:"lerna-yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lerna-yarn","aria-hidden":"true"}},[a._v("#")]),a._v(" Lerna+Yarn")]),a._v(" "),s("h3",{attrs:{id:"workspaces"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#workspaces","aria-hidden":"true"}},[a._v("#")]),a._v(" workspaces")]),a._v(" "),s("p",[a._v("If "),s("code",[a._v("--use-workspaces")]),a._v(" is true then "),s("code",[a._v("packages")]),a._v(" will be overridden by the value from "),s("code",[a._v("package.json/workspaces")]),a._v(".")]),a._v(" "),s("h2",{attrs:{id:"bolt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bolt","aria-hidden":"true"}},[a._v("#")]),a._v(" Bolt")]),a._v(" "),s("h3",{attrs:{id:"bolt-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bolt-2","aria-hidden":"true"}},[a._v("#")]),a._v(" bolt")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "bolt": {\n        "workspaces": [\n            "utils/*",\n            "apps/*"\n        ]\n    }\n}\n')])])]),s("h2",{attrs:{id:"unpkg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unpkg","aria-hidden":"true"}},[a._v("#")]),a._v(" unpkg")]),a._v(" "),s("h3",{attrs:{id:"unpkg-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unpkg-2","aria-hidden":"true"}},[a._v("#")]),a._v(" unpkg")]),a._v(" "),s("h2",{attrs:{id:"typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typescript","aria-hidden":"true"}},[a._v("#")]),a._v(" TypeScript")]),a._v(" "),s("h3",{attrs:{id:"types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types","aria-hidden":"true"}},[a._v("#")]),a._v(" types")]),a._v(" "),s("h2",{attrs:{id:"browserslist"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#browserslist","aria-hidden":"true"}},[a._v("#")]),a._v(" browserslist")]),a._v(" "),s("h3",{attrs:{id:"browserslist-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#browserslist-2","aria-hidden":"true"}},[a._v("#")]),a._v(" browserslist")]),a._v(" "),s("p",[a._v("诸多前端工具用到了该属性")]),a._v(" "),s("ul",[s("li",[a._v("Autoprefixer")]),a._v(" "),s("li",[a._v("babel-preset-env")]),a._v(" "),s("li",[a._v("postcss-preset-env")]),a._v(" "),s("li",[a._v("eslint-plugin-compat")]),a._v(" "),s("li",[a._v("stylelint-no-unsupported-browser-features")]),a._v(" "),s("li",[a._v("postcss-normalize")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    "browserslist": [\n        ">1%",\n        "last 2 versions"\n    ]\n}\n')])])]),s("h2",{attrs:{id:"package-bundlers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-bundlers","aria-hidden":"true"}},[a._v("#")]),a._v(" Package bundlers")]),a._v(" "),s("h3",{attrs:{id:"module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#module","aria-hidden":"true"}},[a._v("#")]),a._v(" module")])])}],!1,null,null,null);r.options.__file="parameters-of-package.md";e.default=r.exports}}]);